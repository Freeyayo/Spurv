var $purv=function(r){"use strict";var e="background: #6a4313;color: white;font-size:10px;font-family: monospace;border:1px solid #6a4313;border-radius: 5px",t="%c üê¶Error from Spurv: ",n=function(r,i){void 0===i&&(i={levels:Number.POSITIVE_INFINITY});var u=i.levels?Number(i.levels):0;return Array.isArray(r)?0===u?r:r.reduce((function(r,e){return Array.isArray(e)?r.concat(n(e,{levels:u-1})):r.concat(e)}),[]):(console.log(t,e,"flatten accepts an array","and safe answer '[]' returned"),[])},i=function(){this._items={},this.length=0};i.prototype._getKeyAsString=function(r){if(void 0===r)throw new TypeError("Spurv: key is undefined");return"object"==typeof r?JSON.stringify(r):r.toString()},i.prototype.add=function(r,e){var t=this._getKeyAsString(r);t in this._items||this.length++,this._items[t]=e},i.prototype.clear=function(){this._items={},this.length=0},i.prototype.containsKey=function(r){var e=this._getKeyAsString(r);return Object.keys(this._items).includes(e)},i.prototype.containsValue=function(r){var e=this._getKeyAsString(r);return Object.values(this._items).includes(e)},i.prototype.get=function(r){var e=this._getKeyAsString(r);return this._items[e]||void 0},i.prototype.remove=function(r){var e=this._getKeyAsString(r);e in this._items&&this.length--,delete this._items[e]},i.prototype.keys=function(){return Object.keys(this._items)},i.prototype.entries=function(){return Object.entries(this._items)},i.prototype.values=function(){return Object.values(this._items)};return r.bstree=function(r){var n=function(r){var e=Object.create(null);return Object.assign(e,{val:r,left:null,right:null})},i=function(r,n){if(n.val<r.val)null===r.left?r.left=n:i(r.left,n);else{if(!(n.val>r.val))return void console.log(t,e,"you passed a duplicate value to binary search tree, Spurv ignored it");null===r.right?r.right=n:i(r.right,n)}},u=null;return Number.isNaN(Number(r))||(u=n(Number(r))),{insert:function(r){if(null===u)return u=n(r);var e=n(r);return i(u,e),u},getHead:function(){return u}}},r.compose=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return function(n){return r.reduce((function(r,n){"function"==typeof n&&1===n.length||console.log(t,e,"compose accepts pure function(s) which needs only 1 argument");try{return n(r)}catch(r){console.log(t,e,r)}}),n)}},r.deserialize=function(r){if(null===r)return null;var n=function(r){var e=Object.create(null);return Object.assign(e,{val:r,left:null,right:null})},i=function(r){return"null"===r||void 0===r?null:n(Number(r))},u=[];try{var o=r.slice(1,-1).split(","),l=o.shift();if("null"===l)return null;var s=n(Number(l));for(u.push(s);u.length;)for(var a=u.length,c=0;c<a;c++){var f=u.shift();if(f){var h=i(o.shift()),v=i(o.shift());f.left=h,f.right=v,null!==h&&u.push(h),null!==v&&u.push(v)}}return s}catch(r){console.log(t,e,"make sure you provided a valid serialized string to function deserialize"),console.log(r)}},r.dictionary=function(){return new i},r.factorial=function(r){if(isNaN(r)||r<0||r>170)return console.log(t,e,"number 'n'(0 <= n <= 170) expected","and safe answer '1' returned"),1;if(0===r)return 1;if(r<=99){for(var n=1,i=1;i<=r;i++)n*=i;return n}if(r>99){for(var u=BigInt(1),o=1;o<=r;o++)u*=BigInt(o);return Number(u)}},r.flatten=n,r.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(0===r.length)return[null];var u=r.reduce((function(r,n){return Array.isArray(r)&&Array.isArray(n)?r.filter((function(r){return n.includes(r)})):(console.log(t,e,"Array<number> expected","and safe answer '[]' returned"),[])}));return Array.from(new Set(n(u)))},r.serialize=function(r){if(null===r)return null;var n=[],i=[];i.push(r);try{for(;i.length;)for(var u=i.length,o=0;o<u;o++){var l=i.shift();null!==l?(n.push(l.val),i.push(l.left),i.push(l.right)):n.push("null")}for(;"null"===n[n.length-1];)n.pop();return"["+n.toString()+"]"}catch(r){console.log(t,e,"make sure you pass a binary tree to function serialize"),console.log(r)}},r.sortarrayby=function(r,e){void 0===e&&(e={tar:[],rev:!1});if(Array.isArray(r)&&Array.isArray(e.tar))return 0===e.tar.length?r.sort((function(r,t,n){return void 0===n&&(n=e.rev),n?r<t?1:r>t?-1:0:r<t?-1:r>t?1:0})):r.sort((function(r,t,n){void 0===n&&(n=e.rev);var i=e.tar,u=function(r){return i.reduce((function(r,e){return r[e]}),r)},o=u(r),l=u(t);return n?o<l?1:o>l?-1:0:o<l?-1:o>l?1:0}))},r.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(0===r.length)return[null];var u=r.map((function(r){return Array.isArray(r)?r:(console.log(t,e,"Array<number> expected","and safe answer '[]' returned"),[])}));return Array.from(new Set(n(u)))},r}({});
